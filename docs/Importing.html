---

title: Data import


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/Importing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/Importing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="This-notebook-provides-a-function-to-import-peptide-level-data-from-Spectronaut,-MaxQuant,-AlphaPept,-DIA-NN">This notebook provides a function to import peptide level data from Spectronaut, MaxQuant, AlphaPept, DIA-NN<a class="anchor-link" href="#This-notebook-provides-a-function-to-import-peptide-level-data-from-Spectronaut,-MaxQuant,-AlphaPept,-DIA-NN"> </a></h2><p>The preprocessed data is stored in a pandas dataframe with following columns:</p>
<ul>
<li>all_protein_ids: all UniProt IDs the peptide map to separated by ';'</li>
<li>modified_sequence: the peptide sequence with all modifications included in square brackets</li>
<li>naked_sequence: the naked peptide sequence</li>
</ul>
<p>It is possible to further select one or more specific samples for import. A single sample can be provided as character string. Multiple samples can be provided as list of character strings. The raw MS filename should match corresponding entries in the "R.FileName", "Raw file", "shortname" or "Run" column of the Spectronaut, MaxQuant, AlphaPept or DIA-NN analysis respectively.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_file" class="doc_header"><code>read_file</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L10" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_file</code>(<strong><code>file</code></strong>:<code>str</code>, <strong><code>column_names</code></strong>:<code>list</code>)</p>
</blockquote>
<p>Load a specified columns of the file as a pandas dataframe.</p>
<p>Args:
    file (str): The name of a file.
    column_names (list): The list of three columns that should be extracted from the file.</p>
<p>Returns:
    pd.DataFrame: A pandas dataframe with all the data stored in the specified columns.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_rawfile_unique_values" class="doc_header"><code>extract_rawfile_unique_values</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L60" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_rawfile_unique_values</code>(<strong><code>file</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Extract the unique raw file names from "R.FileName" (Spectronaut output), "Raw file" (MaxQuant output),
"shortname" (AlphaPept output) or "Run" (DIA-NN output) column.</p>
<p>Args:
    file (str): The name of a file.</p>
<p>Returns:
    list: A sorted list of unique raw file names from the file.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Import-Spectronaut-data">Import Spectronaut data<a class="anchor-link" href="#Import-Spectronaut-data"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="import_spectronaut_data" class="doc_header"><code>import_spectronaut_data</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L107" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>import_spectronaut_data</code>(<strong><code>file</code></strong>:<code>str</code>, <strong><code>sample</code></strong>:<code>Union</code>[<code>str</code>, <code>list</code>, <code>NoneType</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Import peptide level data from Spectronaut.</p>
<p>Args:
    file (str): The name of a file.
    sample (Union[str, list, None]): The unique raw file name(s) to filter the original file. Defaults to None. In this case data for all raw files will be extracted.</p>
<p>Returns:
    pd.DataFrame: A pandas dataframe containing information about: all_protein_ids (str), modified_sequence (str), naked_sequence (str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Import-MaxQuant-data">Import MaxQuant data<a class="anchor-link" href="#Import-MaxQuant-data"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="import_maxquant_data" class="doc_header"><code>import_maxquant_data</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L150" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>import_maxquant_data</code>(<strong><code>file</code></strong>:<code>str</code>, <strong><code>sample</code></strong>:<code>Union</code>[<code>str</code>, <code>list</code>, <code>NoneType</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Import peptide level data from MaxQuant.</p>
<p>Args:
    file (str): The name of a file.
    sample (Union[str, list, None]): The unique raw file name(s) to filter the original file. Defaults to None. In this case data for all raw files will be extracted.</p>
<p>Returns:
    pd.DataFrame: A pandas dataframe containing information about: all_protein_ids (str), modified_sequence (str), naked_sequence (str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Import-AlphaPept-data">Import AlphaPept data<a class="anchor-link" href="#Import-AlphaPept-data"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_ap_mq_mod" class="doc_header"><code>convert_ap_mq_mod</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L197" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_ap_mq_mod</code>(<strong><code>sequence</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Convert AlphaPept style modifications into MaxQuant style modifications.</p>
<p>Args:
    sequence (str): The peptide sequence with modification in an AlphaPept style.</p>
<p>Returns:
    str: The peptide sequence with modification in a similar to MaxQuant style.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="import_alphapept_data" class="doc_header"><code>import_alphapept_data</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L257" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>import_alphapept_data</code>(<strong><code>file</code></strong>:<code>str</code>, <strong><code>sample</code></strong>:<code>Union</code>[<code>str</code>, <code>list</code>, <code>NoneType</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Import peptide level data from AlphaPept.</p>
<p>Args:
    file (str): The name of a file.
    sample (Union[str, list, None]): The unique raw file name(s) to filter the original file. Defaults to None. In this case data for all raw files will be extracted.</p>
<p>Returns:
    pd.DataFrame: A pandas dataframe containing information about: all_protein_ids (str), modified_sequence (str), naked_sequence (str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Import-DIA-NN-data">Import DIA-NN data<a class="anchor-link" href="#Import-DIA-NN-data"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_diann_mq_mod" class="doc_header"><code>convert_diann_mq_mod</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L307" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_diann_mq_mod</code>(<strong><code>sequence</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Convert DIA-NN style modifications into MaxQuant style modifications.</p>
<p>Args:
    sequence (str): The peptide sequence with modification in an AlphaPept style.</p>
<p>Returns:
    str: The peptide sequence with modification in a similar to DIA-NN style.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="import_diann_data" class="doc_header"><code>import_diann_data</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L392" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>import_diann_data</code>(<strong><code>file</code></strong>:<code>str</code>, <strong><code>sample</code></strong>:<code>Union</code>[<code>str</code>, <code>list</code>, <code>NoneType</code>]=<em><code>None</code></em>)</p>
</blockquote>
<p>Import peptide level data from DIA-NN.</p>
<p>Args:
    file (str): The name of a file.
    sample (Union[str, list, None]): The unique raw file name(s) to filter the original file. Defaults to None. In this case data for all raw files will be extracted.</p>
<p>Returns:
    pd.DataFrame: A pandas dataframe containing information about: all_protein_ids (str), modified_sequence (str), naked_sequence (str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Aggregated-import-function">Aggregated import function<a class="anchor-link" href="#Aggregated-import-function"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="import_data" class="doc_header"><code>import_data</code><a href="https://github.com/mannlabs/alphamap/tree/master/alphamap/importing.py#L441" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>import_data</code>(<strong><code>file</code></strong>:<code>str</code>, <strong><code>sample</code></strong>:<code>Union</code>[<code>str</code>, <code>list</code>, <code>NoneType</code>]=<em><code>None</code></em>, <strong><code>verbose</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>dashboard</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Import peptide level data. Depending on available columns in the provided file, the function calls other specific functions for each tool.</p>
<p>Args:
    file (str): The name of a file.
    sample (Union[str, list, None]): The unique raw file name(s) to filter the original file. Defaults to None. In this case data for all raw files will be extracted.
    verbose (bool): if True, print the type of input that is used. Defaults to True.
    dashboard (bool): If True, the function is used for the dashboard output (StringIO object). Defaults to False.</p>
<p>Raises:
    TypeError: If the input data format is unknown.</p>
<p>Returns:
    pd.DataFrame: A pandas dataframe containing information about: all_protein_ids (str), modified_sequence (str), naked_sequence (str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

